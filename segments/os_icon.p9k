# vim:ft=zsh ts=2 sw=2 sts=2 et fenc=utf-8
################################################################
# @title powerlevel9k Segment - OS Icon
# @source [powerlevel9k](https://github.com/bhilburn/powerlevel9k)
##

################################################################
# Register segment icon
# Parameters:
#   name_of_icon  Generic  Flat/Awesome-Patched  Awesome-FontConfig  Awesome-Mapped-FontConfig  NerdFont
case "$__P9K_OS" in
  #                                                                      ÓâÆ            ÔÖπ           ÔÖπ                                ÔÖπ
  "OSX")      p9k::register_segment "OS_ICON" "" "black" "white" 'OSX'  $'\uE26E'    $'\uF179'    '\u'${CODEPOINT_OF_AWESOME_APPLE}  $'\uF179' ;;
  #                                                                      ÓâØ            Óúè           Óúè                                Óúè
  "Windows")  p9k::register_segment "OS_ICON" "" "black" "white" 'WIN'  $'\uE26F'    $'\uF17A'    $'\uF17A'                        $'\uF17A' ;;
  #                                                                      üòà           üòà           üòà                                Ôåé
  "BSD")      p9k::register_segment "OS_ICON" "" "black" "white" 'BSD'  $'\U1F608 '  $'\U1F608 '  $'\U1F608 '                      $'\uF30c ' ;;
#  OpenBSD) ;;
#  DragonFly) ;;
  "Linux")
    case "$__P9K_OS_ID" in
      #                                                                                                                                             ÔåÉ
      "arch")                  p9k::register_segment "OS_ICON" "" "black" "white" 'Arc'  'Arc'      'Arc'      'Arc'                              $'\uF303' ;;
      #                                                                                                                                             ÓùΩ
      "debian")                p9k::register_segment "OS_ICON" "" "black" "white" 'Deb'  'Deb'      'Deb'      'Deb'                              $'\uE77D' ;;
      #                                                                                                                                             Ôåõ
      "ubuntu")                p9k::register_segment "OS_ICON" "" "black" "white" 'Ubu'  'Ubu'      'Ubu'      'Ubu'                              $'\uF31B' ;;
      #                                                                                                                                             Ôåâ
      "elementary")            p9k::register_segment "OS_ICON" "" "black" "white" 'Elm'  'Elm'      'Elm'      'Elm'                              $'\uF309' ;;
      #                                                                                                                                             Ôåä
      "fedora")                p9k::register_segment "OS_ICON" "" "black" "white" 'Fed'  'Fed'      'Fed'      'Fed'                              $'\uF30A' ;;
      #                                                                                  Óâ±          ÔÖº          ÔÖº                                    Óûª
      "rhel")                  p9k::register_segment "OS_ICON" "" "black" "white" 'Rhe'  $'\uE271'  $'\uF17C'  '\u'$CODEPOINT_OF_AWESOME_LINUX    $'\uE7BB' ;;
      #                                                                                                                                             ÔåÖ
      "coreos")                p9k::register_segment "OS_ICON" "" "black" "white" 'Cor'  'Cor'      'Cor'      'Cor'                              $'\uF305' ;;
      #                                                                                                                                             Ôåç
      "gentoo")                p9k::register_segment "OS_ICON" "" "black" "white" 'Gen'  'Gen'      'Gen'      'Gen'                              $'\uF30D' ;;
      #                                                                                                                                             Ôåê
      "mageia")                p9k::register_segment "OS_ICON" "" "black" "white" 'Mag'  'Mag'      'Mag'      'Mag'                              $'\uF310' ;;
      #                                                                                                                                             ÔåÑ
      "centos")                p9k::register_segment "OS_ICON" "" "black" "white" 'Cen'  'Cen'      'Cen'      'Cen'                              $'\uF304' ;;
      #                                                                                                                                             Ôåî
      "opensuse"|"tumbleweed") p9k::register_segment "OS_ICON" "" "black" "white" 'OSu'  'OSu'      'OSu'      'OSu'                              $'\uF314' ;;
      #                                                                                                                                             Ôåó
      "sabayon")               p9k::register_segment "OS_ICON" "" "black" "white" 'Sab'  'Sab'      'Sab'      'Sab'                              $'\uF317' ;;
      #                                                                                                                                             Ôåò
      "slackware")             p9k::register_segment "OS_ICON" "" "black" "white" 'Sla'  'Sla'      'Sla'      'Sla'                              $'\uF318' ;;
      #                                                                                                                                             Ôåé
      "linuxmint")             p9k::register_segment "OS_ICON" "" "black" "white" 'LMi'  'LMi'      'LMi'      'LMi'                              $'\uF30E' ;;
      #                                                                                   Óâ±          ÔÖº          ÔÖº                                  ÔÖº
      *)                       p9k::register_segment "OS_ICON" "" "black" "white" 'Lx'   $'\uE271'  $'\uF17C'  '\u'${CODEPOINT_OF_AWESOME_LINUX}  $'\uF17C' ;;
    esac
  ;;
  #                                                                       Óâ∞           ÔÖª           ÔÖª                                   ÔÖª
  "Android") p9k::register_segment "OS_ICON" "" "black" "white"  'And'  $'\uE270'    $'\uE17B'   $'\uF17B'                           $'\uF17B'
  ;;
  #                                                                      üåû           ÔÜÖ           ÔÜÖ                                   ÔÜÖ
  "Solaris") p9k::register_segment "OS_ICON" "" "black" "white"  'Sun'  $'\U1F31E '  $'\uF185 '  '\u'$CODEPOINT_OF_AWESOME_SUN_O' '  $'\uF185 '
    ;;
  *)
    p9k::register_segment "OS_ICON" "" "black" "white"  ''  ''  ''  ''  ''
    OS=''
    ;;
esac

################################################################
# @description
#   Displays the OS icon only.
##
# @args
#   $1 string Alignment - left | right
#   $2 integer Segment index
#   $3 boolean Whether the segment should be joined
##
# @note
#   Only displays the specific Linux distro icon if available,
#   otherwise just uses the Tux icon.
##
prompt_os_icon() {
  p9k::prepare_segment "$0" "" $1 "$2" $3 "" "[[ true ]]"
}
